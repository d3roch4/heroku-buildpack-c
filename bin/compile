#!/usr/bin/env bash
# bin/compile <build-dir> <cache-dir>

set -e
set -o pipefail

BUILD_DIR=$1
CACHE_DIR=$2

echo "working in $PWD \n BUILD_DIR: $BUILD_DIR \n CACHE_DIR: $CACHE_DIR"

cd $BUILD_DIR

mkdir build
cd build
cmake -DBoost_LIBRARY_DIRS=.apt/usr/lib/x86_64-linux-gnu/ ..
echo "-----> Configuring CMake"

# make
echo "-----> Compiling with Make"
make
